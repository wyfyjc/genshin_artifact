"use strict";(self["webpackChunkgenshin_artifacts"]=self["webpackChunkgenshin_artifacts"]||[]).push([[57],{59098:function(e,t,a){a.d(t,{YK:function(){return n},$o:function(){return r},eH:function(){return u}});a(33948);var l=a(49811);a(60285),a(41637);function n(e,t){const l=new Worker(new URL(a.p+a.u(988),a.b));return new Promise(((a,n)=>{l.onmessage=function(n){const o=n.data.type;if("ready"===o)l.postMessage({input:e,artifacts:t});else if("result"===o){const e=n.data.data.result;l.terminate(),a(e)}},l.onerror=function(e){n(e)}}))}a(70084);var o=a(59e3);function r(e,t,l=12e4){const n=new Worker(new URL(a.p+a.u(165),a.b)),r=(0,o.p$)(e);return new Promise(((e,a)=>{const o=setTimeout((()=>{a("计算超时")}),l);n.onmessage=a=>{if("ready"===a.data.type)n.postMessage({potentialFunctionInterface:r,artifacts:t});else{const t=a.data.data.results;clearTimeout(o),e(t)}},n.onerror=e=>{a("计算发生错误："+e.message),clearTimeout(o)}})).finally((()=>{n.terminate()}))}async function u(e,t,a,n){const o=await(0,l.n)();return o.CommonInterface.get_artifacts_rank_by_character(e,t,a,n)}},70084:function(e,t,a){a.d(t,{Y:function(){return l}});a(33948),a(60285),a(41637);function l(e,t,l=6e5){const n=new Worker(new URL(a.p+a.u(306),a.b));return new Promise(((a,o)=>{const r=setTimeout((()=>{o("计算超时")}),l);n.onmessage=l=>{if("ready"===l.data.type)n.postMessage({optimizeConfig:e,artifacts:t});else{const e=l.data.data.results;clearTimeout(r),a(e)}},n.onerror=()=>{o("计算发生错误")}})).finally((()=>{n.terminate()}))}},46697:function(e,t,a){a.d(t,{Z:function(){return s}});var l=a(29491),n=(a(50657),a(60096),a(10311));function o(e,t,a,o,r,u){const i=l.BT,c=l.km;return(0,n.openBlock)(),(0,n.createBlock)(c,{value:a.value,onInput:t[0]||(t[0]=t=>e.$emit("input",t)),multiple:a.multiple},{default:(0,n.withCtx)((()=>[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.positions,(e=>((0,n.openBlock)(),(0,n.createBlock)(i,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["value","multiple"])}var r=a(75202),u={name:"SelectArtifactSlot",props:{value:{},multiple:{default:!1}},created(){this.positions=r.m7}},i=a(83744);const c=(0,i.Z)(u,[["render",o]]);var s=c},2630:function(e,t,a){a.r(t),a.d(t,{default:function(){return J}});var l=a(10311),n=a(89804),o=a(79509),r=a(35267),u=(a(45177),a(29125)),i=(a(40121),a(19651)),c=(a(71683),a(77049)),s=(a(75915),a(31838)),m=(a(87228),a(33948),a(24026)),d={ArtifactEff:{name:"ArtifactEff",chs:"有效词条",description:"以单次强化最大档位为1分",badge:m,config:[{default:!1,name:"atk_use",title:749,type:"bool"},{default:0,max:1,min:0,name:"atk_weight",title:750,type:"float"},{default:!0,name:"atk_p_use",title:739,type:"bool"},{default:1,max:1,min:0,name:"atk_p_weight",title:740,type:"float"},{default:!1,name:"hp_use",title:1306,type:"bool"},{default:0,max:1,min:0,name:"hp_weight",title:1307,type:"float"},{default:!1,name:"hp_p_use",title:1291,type:"bool"},{default:0,max:1,min:0,name:"hp_p_weight",title:1292,type:"float"},{default:!1,name:"def_use",title:1785,type:"bool"},{default:0,max:1,min:0,name:"def_weight",title:1786,type:"float"},{default:!1,name:"def_p_use",title:1780,type:"bool"},{default:0,max:1,min:0,name:"def_p_weight",title:1781,type:"float"},{default:!0,name:"critical_use",title:1017,type:"bool"},{default:1,max:1,min:0,name:"critical_weight",title:1018,type:"float"},{default:!0,name:"critical_damage_use",title:1011,type:"bool"},{default:1,max:1,min:0,name:"critical_damage_weight",title:1012,type:"float"},{default:!1,name:"elemental_mastery_use",title:246,type:"bool"},{default:0,max:1,min:0,name:"elemental_mastery_weight",title:247,type:"float"},{default:!1,name:"recharge_use",title:205,type:"bool"},{default:0,max:1,min:0,name:"recharge_weight",title:206,type:"float"}]}};Object.freeze(d);const f=d;function p(e){var t;const a=f[e];if(!a)return"NoConfig";let l=null!==(t=a.config)&&void 0!==t?t:[];if(0===l.length)return"NoConfig";let n={};for(let o of l)n[o.name]=o.default;return{[e]:n}}var v=a(5746),g=a(59098),V=a(83549),h=a(29491);a(50657),a(60096);function y(e,t,a,n,o,r){const u=h.BT,i=h.km;return(0,l.openBlock)(),(0,l.createBlock)(i,{"model-value":a.modelValue,"onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("update:modelValue",t))},{default:(0,l.withCtx)((()=>[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(e.potentialFunctionNames,(e=>((0,l.openBlock)(),(0,l.createBlock)(u,{key:e.name,label:n.t("pfName",e.name),value:e.name},null,8,["label","value"])))),128))])),_:1},8,["model-value"])}var _=a(9012);let N=[];for(const ee in f){const e=f[ee].chs;N.push({name:ee,chs:e})}Object.freeze(N);var k={name:"SelectPotentialFunctionName",props:["modelValue"],emits:["update:modelValue"],created(){this.potentialFunctionNames=N},setup(){const{t:e}=(0,_.QT)();return{t:e}}},w=a(83744);const x=(0,w.Z)(k,[["render",y]]);var E=x,b=a(46697),B=a(23407),C=a(2805),S=a(24812),T=a(82749),U=a(87749),Z=a(3205);const D={class:"root"},F={class:"pf-detail"},A=["src"],P={class:"pf-title"},L={class:"pf-description"},z={class:"pf-config"},I={class:"filter"},M={class:"filter-item"},O={class:"filter-title"},R={class:"filter-item"},$={class:"filter-title"},W={class:"filter-item"},j={class:"filter-title"},q={style:{margin:"0 0 20px 0"}},Q={class:"filter-title"},Y={class:"filter-level"},G={class:"artifacts-div"},H={class:"pager"};var K=(0,l.defineComponent)({__name:"NewArtifactPotentialPage",setup(e){const{t:t}=(0,_.QT)(),a=(0,U.n)(),m=(0,l.ref)("ArtifactEff"),d=(0,l.computed)((()=>{const e=f[m.value];return null===e||void 0===e?void 0:e.badge})),h=(0,l.computed)((()=>t("pfDesc",m.value))),y=(0,l.computed)((()=>{const e=f[m.value];return e?e.config:[]})),N=(0,l.ref)(p("ArtifactEff")),k=(0,l.ref)([]),w=(0,l.computed)((()=>k.value.length>0?k.value[0][1]:Number.MAX_SAFE_INTEGER)),x=(0,l.ref)([]),K=(0,l.ref)([]),X=(0,l.ref)([]),J=(0,l.ref)([0,20]),ee=(0,l.computed)((()=>{let e=[];for(let t of k.value){const l=a.artifacts.value.get(t[0]);if(!l)continue;if(x.value.length>0&&-1===x.value.indexOf(l.position))continue;if(K.value.length>0&&-1===K.value.indexOf(l.setName))continue;if(X.value.length>0&&-1===X.value.indexOf(l.mainTag.name))continue;const n=l.level;n<J.value[0]||n>J.value[1]||e.push(t)}return e})),te=(0,l.ref)(1),ae=(0,l.computed)((()=>{const e=te.value;return ee.value.slice(20*(e-1),Math.min(20*e,ee.value.length))})),le=(0,l.computed)((()=>{const e=[];for(let t of ae.value){const[l,n]=t,o=a.artifacts.value.get(l);o&&e.push([o,n])}return e})),ne=(0,l.computed)((()=>({name:m.value,config:N.value})));function oe(){const e=(0,v.Cq)(),t=ne.value,a=n.kN.service({text:"莫娜占卜中",lock:!0,fullscreen:!0});(0,g.$o)(t,e).then((e=>{k.value=e})).catch((e=>{console.log(e),(0,o.z8)({message:e,type:"error"})})).finally((()=>{a.close()}))}return(e,a)=>{const n=s.Dv,o=c.mi,f=i.d6,p=u.R,v=r.dq;return(0,l.openBlock)(),(0,l.createElementBlock)("div",D,[(0,l.createVNode)(v,null,{default:(0,l.withCtx)((()=>[(0,l.createVNode)(n,{md:6,sm:24,class:"mona-scroll-hidden left"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(E,{modelValue:m.value,"onUpdate:modelValue":a[0]||(a[0]=e=>m.value=e)},null,8,["modelValue"]),(0,l.createElementVNode)("div",F,[(0,l.createElementVNode)("img",{src:(0,l.unref)(d),class:"pf-image",alt:"图"},null,8,A),(0,l.createElementVNode)("div",null,[(0,l.createElementVNode)("p",P,(0,l.toDisplayString)((0,l.unref)(t)("pfName",m.value)),1),(0,l.createElementVNode)("p",L,(0,l.toDisplayString)((0,l.unref)(h)),1)])]),(0,l.createElementVNode)("div",z,[(0,l.createVNode)((0,l.unref)(S.Z),{modelValue:N.value,"onUpdate:modelValue":a[1]||(a[1]=e=>N.value=e),"item-name":m.value,configs:(0,l.unref)(y)},null,8,["modelValue","item-name","configs"])])])),_:1}),(0,l.createVNode)(n,{md:18,sm:24,class:"col-right mona-scroll-hidden"},{default:(0,l.withCtx)((()=>[(0,l.createElementVNode)("div",null,[(0,l.createVNode)(o,{type:"primary",icon:(0,l.unref)(Z.Z),onClick:oe},{default:(0,l.withCtx)((()=>[(0,l.createTextVNode)((0,l.toDisplayString)((0,l.unref)(t)("poPage.start")),1)])),_:1},8,["icon"])]),(0,l.createElementVNode)("div",I,[(0,l.createElementVNode)("span",M,[(0,l.createElementVNode)("span",O,(0,l.toDisplayString)((0,l.unref)(t)("misc.artSlot")),1),(0,l.createVNode)((0,l.unref)(b.Z),{modelValue:x.value,"onUpdate:modelValue":a[2]||(a[2]=e=>x.value=e),multiple:!0},null,8,["modelValue"])]),(0,l.createElementVNode)("span",R,[(0,l.createElementVNode)("span",$,(0,l.toDisplayString)((0,l.unref)(t)("misc.artifactSet")),1),(0,l.createVNode)(B.Z,{modelValue:K.value,"onUpdate:modelValue":a[3]||(a[3]=e=>K.value=e),multiple:!0,"multiple-limit":5},null,8,["modelValue"])]),(0,l.createElementVNode)("span",W,[(0,l.createElementVNode)("span",j,(0,l.toDisplayString)((0,l.unref)(t)("misc.mainStat")),1),(0,l.createVNode)(C.Z,{modelValue:X.value,"onUpdate:modelValue":a[4]||(a[4]=e=>X.value=e),multiple:!0,"include-any":!1},null,8,["modelValue"])])]),(0,l.createElementVNode)("div",q,[(0,l.createElementVNode)("span",Q,(0,l.toDisplayString)((0,l.unref)(t)("misc.lvl")),1),(0,l.createElementVNode)("div",Y,[(0,l.createVNode)(f,{min:0,max:J.value[1],modelValue:J.value[0],"onUpdate:modelValue":a[5]||(a[5]=e=>J.value[0]=e)},null,8,["max","modelValue"]),(0,l.createTextVNode)(" ~ "),(0,l.createVNode)(f,{min:J.value[0],max:20,modelValue:J.value[1],"onUpdate:modelValue":a[6]||(a[6]=e=>J.value[1]=e)},null,8,["min","modelValue"])])]),(0,l.createElementVNode)("div",G,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)((0,l.unref)(le),(e=>((0,l.openBlock)(),(0,l.createBlock)(T.Z,{item:e[0],extra:e[1].toFixed(2),"show-back":!0,"back-value":e[1]/(0,l.unref)(w)},null,8,["item","extra","back-value"])))),256))]),(0,l.createElementVNode)("div",H,[(0,l.createVNode)(p,{total:(0,l.unref)(ee).length,"page-size":20,"current-page":te.value,"onUpdate:current-page":a[7]||(a[7]=e=>te.value=e),"hide-on-single-page":"",layout:"prev, pager, next",small:!(0,l.unref)(V.B)},null,8,["total","current-page","small"])])])),_:1})])),_:1})])}}});const X=(0,w.Z)(K,[["__scopeId","data-v-ad7a322e"]]);var J=X}}]);